def додати(x, y):
    return x + y

def відняти(x, y):
    return x - y

def помножити(x, y):
    return x * y

def поділити(x, y):
    if y == 0:
        return "Помилка: ділення на нуль неможливе"
    return x / y

def калькулятор():
    print("Простий калькулятор на Python")
    print("Доступні операції: + (додавання), - (віднімання), * (множення), / (ділення)")
    print("Для виходу введіть 'вихід'")
    
    останній_результат = None  
    
    while True:
        if останній_результат is not None:
            print(f"\nОстанній результат: {останній_результат}")
        
        введення = input("Введіть операцію і два числа (наприклад, + 2 3) або 'вихід': ").strip().lower()
        
        if введення == "вихід":
            print("Вихід з програми.")
            break
        
        частини = введення.split()
        
        if len(частини) == 3:
            операція, число1, число2 = частини
        elif len(частини) == 2 and останній_результат is not None:
            операція, число1 = частини
            число2 = останній_результат
        else:
            print("Некоректне введення. Спробуйте знову.")
            continue

        try:
            число1 = float(число1)
            число2 = float(число2)
        except ValueError:
            print("Помилка: введіть числові значення.")
            continue
        
        if операція == "+":
            результат = додати(число1, число2)
        elif операція == "-":
            результат = відняти(число1, число2)
        elif операція == "*":
            результат = помножити(число1, число2)
        elif операція == "/":
            результат = поділити(число1, число2)
        else:
            print("Помилка: некоректна операція.")
            continue
        
        print(f"Результат: {результат}")
        останній_результат = результат
калькулятор()
